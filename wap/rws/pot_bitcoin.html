{% include "header.html" %}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bitcoinjs-lib/0.2.0-1/bitcoinjs-min.js" integrity="sha256-FilB5ir32toR4c80H4e31Wzh7MbA0kOd/LzvRxgletA=" crossorigin="anonymous"></script>
</head>
<body id="about">
<div class="pagewrap">

	<div class="centerwrap">
		<span>
			<h3>Bitcoin Pot</h3>
			<hr/><br/>
			<a href="/">&gt;&gt;&gt;------&gt;</a>
		</span>
	</div>

	<br/>
	<hr/>
	<br/>

	<div class="centerwrap">
	<form name="new" action="new" method="post" onsubmit="encryptSubmit(); return false;">
		<ul>
			<li class="formrow">
				<label for="datebin">datebin*:</label>
				<input type="date" name="datebin" required>
			</li>
			<li class="formrow">
				<label for="sats">sats*:</label>
				<input type="number" name="sats" min="0" step="1" required>
			</li>
			<li class="formrow">
				<label for="source">source:</label>
				<input type="text" name="source">
			</li>
			<li class="formrow">
				<label for="pub_key">pub_key:</label>
				<input type="text" name="pub_key">
			</li>
			<li class="formrow">
				<label for="priv_key">priv_key:</label>
				<input type="text" name="priv_key">
			</li>
			<li class="formrow">
				<label for="cost_usd">cost_usd:</label>
				<input type="number" name="cost_usd" min="0" step="0.01">
			</li>
			<li class="formrow">
				<label for="note">note:</label>
				<input type="text" name="note">
			</li>
		</ul>
		<br/>
		<button type="submit">+</button>
		<br/>
	</form>
	</div>
</div>

<script>
async function encryptSubmit() {
	form = document.forms["new"];
	for (idx=0; idx < form.elements.length; idx += 1) {
		form.elements[idx].value = await encrypt(form.elements[idx].value, "dev");
	}
	form.submit();
}
</script>

</body>
</html>
