{% include "header.html" %}
</head>
<body id="login">
<div class="page-wrap">

	<div class="centerwrap">

		<span style="text-align:center;">
			Login:
			<br/><br/><br/>
			<a href="/">&gt;&gt;&gt;------&gt;</a>
			<br/><br/>
		</span>

		<hr/>

		<form name="verify" action="verify" method="post">
			<br/><br/>
			<ul>
				<li class="formrow">
					<label for="user_id">user_id:</label>
					<input type="text" name="user_id" required>
				</li>
				<br/>
				<li class="formrow">
					<label for="user_key">user_key:</label>
					<input type="password" name="user_key" required>
				</li>
			</ul>
			<br/>
			<button type="submit">login</button>
			<br/><br/>
		</form>

		<hr/>

		<form name="new" action="new" method="post">
			<span id='newUserMsg'></span><br/><br/>
			<span id='newUserId'></span><br/>
			<span id='newUserKey'></span><br/><br/>
			<input type="button" onclick="newUser()" value='new'>
		</form>

	</div>
<script>
async function newUser() {
	newUserMsgRow = 'Generating new credentials, please wait up to 10 minutes...';
	document.getElementById('newUserMsg').innerText = newUserMsgRow;
	newUserMsgRow = 'Store this in your password database:'
	newUserId = util.generateUserId();
	newUserKey = await util.generateUserKey(newUserId);
	newUserIdRow = 'user_id = ' + newUserId;
	newUserKeyRow = 'user_key = ' + newUserKey;
	document.getElementById('newUserMsg').innerText = newUserMsgRow;
	document.getElementById('newUserId').innerText = newUserIdRow;
	document.getElementById('newUserKey').innerText = newUserKeyRow;
}
</script>
</div>
</body>
</html>

