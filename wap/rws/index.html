<html>
<head>
	<meta name="Keywords" content="bitcoin">
	<meta http-equiv="refresh" content="120">
	<title>Bitcoin Arrows</title>
	<link rel="icon" href="/favicon.ico">
	<link rel="stylesheet" type="text/css" href="ws/css/main.css">
	<script type="text/javascript" src="ws/js/common.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-lite@3"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-embed@4"></script> 
</head>
<body id="index">
<div class="page-wrap">


	<div id="panel0">
	<table>
		<tr>
			<th>Bitcoin</th>
			<th>Gold</th>
			<th>Binance</th>
			<th>Bisq</th>
			<th>Bitfinex</th>
			<th>Bitstamp</th>
			<th>Bittrex</th>
			<th>BTSE</th>
			<th>CEX</th>
			<th>Coinbase</th>
			<th>Gemini</th>
			<th>Huobi</th>
			<th>itBit</th>
			<th>Kraken</th>
			<th>Poloniex</th>
		</tr>
		<tr>
			<td>
				<div class="tooltip">
					{{spot | round(2)}}
					<span class="tooltiptext">Grams of Gold per Bitcoin</span>
				</div>
			</td>
			<td>
				<div class="tooltip">
					{{(10**8/spot) | round | int}}
					<span class="tooltiptext">Sats per gram of Gold</span>
				</div>
			</td>
			<td data-value="{{(binance_spot - spot)|round(2)}}"></td>
			<td data-value="{{(bisq_spot - spot)|round(2)}}"></td>
			<td data-value="{{(bitfinex_spot - spot)|round(2)}}"></td>
			<td data-value="{{(bitstamp_spot - spot)|round(2)}}"></td>
			<td data-value="{{(bittrex_spot - spot)|round(2)}}"></td>
			<td data-value="{{(btse_spot - spot)|round(2)}}"></td>
			<td data-value="{{(cex_spot - spot)|round(2)}}"></td>
			<td data-value="{{(coinbase_spot - spot)|round(2)}}"></td>
			<td data-value="{{(gemini_spot - spot)|round(2)}}"></td>
			<td data-value="{{(huobi_spot - spot)|round(2)}}"></td>
			<td data-value="{{(itbit_spot - spot)|round(2)}}"></td>
			<td data-value="{{(kraken_spot - spot)|round(2)}}"></td>
			<td data-value="{{(poloniex_spot - spot)|round(2)}}"></td>
		</tr>
	</table>
	</div>
	<hr/>

	{{stats|safe}}

	<hr/>
	<div class="centerwrap">
	<div class="wrapclass" id="bigpic"></div>
	</div>
	<script type="text/javascript">
		var vegaSpec = {
			"$schema": "https://vega.github.io/schema/vega-lite/v4.json",
			"description": "Bitcoin Price History",
			"width": 1000,
			"height": 280,
			"padding": 8,
			"data": {
				"url": "arrows/spot_daily.csv"
			},
			"title": {
				"xtext": "Bitcoin Price History",
				"fontWeight": 360,
				"fontSize": 16
			},
			"mark": {
				"type": "area",
				"line": {
					"color": "#f7931a"
				},
				"color": {
					"x1": 0.3,
					"y1": 0.3,
					"x2": 0.3,
					"y2": 0,
					"gradient": "linear",
					"stops": [
					{
						"offset": 0,
						"color": "#333"
					},
					{
						"offset": 1,
						"color": "#f7931a"
					}]
				}
			},
			"encoding": {
				"x": {
					"field": "date",
					"type": "temporal",
					"scale": {
						"type":"time",
						"domain": ["2010-01-01","2020-01-02"]
					},
					"axis": {
						"title": "",
						"labelFontSize": 14,
						"tickCount": 11,
					}
				},
				"y": {
					"field": "value",
					"type": "quantitative",
					"scale": {"type":"log"},
					"axis": {
						"title": "AU[gm]",
						"titleFontSize": 14,
						"titleAngle": 0,
						"titleX": 30,
						"titleY": 20,
						"labelFontSize": 14,
						"tickSize": 1,
						"gridColor": "#666",
						"gridDash": [2,1]
					}
				}
			}
		};
		vegaEmbed("#bigpic", vegaSpec, {"theme":"dark", "actions":false}).then(function(result) {}).catch(console.error);
	</script>



	<div class="centerwrap">
	<div class="wrapclass" id="scroller"></div>
	</div>
	<script type="text/javascript">
		var vegaSpec = {
			"$schema": "https://vega.github.io/schema/vega-lite/v4.json",
			"description": "Bitcoin Price History",
			"width": 1040,
			"height": 240,
			"padding": 8,
			"data": {
				"url": "arrows/spot_minutely.csv"
			},
			"autosize": {
				"type": "fit",
				"resize": true
			},
			"selection": {
				"grid": {
					"type": "interval",
					"bind": "scales"
				}
			},
			"mark": {
				"type": "line",
				"line": {
					"color": "#f7931a"
				},
				"color": "#f7931a"
			},
			"encoding": {
				"x": {
					"field": "date",
					"type": "temporal",
					"scale": {
						"type":"time",
						"domain": ["{{scroller_start}}","{{scroller_end}}"]
					},
					"axis": {
						"title": "",
						"labelFontSize": 14,
						"tickCount": 7,
					}
				},
				"y": {
					"field": "value",
					"type": "quantitative",
					"axis": {
						"title": "AU[gm]",
						"titleFontSize": 14,
						"titleAngle": 0,
						"titleX": 30,
						"titleY": 20,
						"labelFontSize": 14,
						"tickSize": 1,
						"gridDash": [2,1]
					},
					"scale": {
						"type": "linear",
						"clamp": true,
						"nice": true,
						"zero": false,
					},
				}
			},
			"config": {
				"scale": {
					"continuousPadding": 10
				}
			}
		};
		vegaEmbed("#scroller", vegaSpec, {"theme":"dark", "actions":false}).then(function(result) {}).catch(console.error);
	</script>


	<div class="centerwrap">
	<div class="wrapclass" id="spot_bars"></div>
	</div>
	<script type="text/javascript">
		var vegaSpec = {
			"$schema": "https://vega.github.io/schema/vega-lite/v4.json",
			"description": "Bitcoin Spot Bars",
			"width": 1040,
			"height": 240,
			"padding": 8,
			"data": {
				"url": "arrows/spots_minutely.csv"
			},
			"autosize": {
				"type": "fit",
				"resize": true
			},
			"mark": {
				"type": "boxplot",
				"extent": "min-max",
			},
			"encoding": {
				"y": {
					"field": "source",
					"type": "nominal",
					"sort": "-x",
					"axis": {
						"title": "",
						"labelFontSize": 14,
					},
				},
				"x": {
					"field": "value",
					"type": "quantitative",
					"axis": {
						"title": "",
						"labelFontSize": 14,
					},
					"scale": {
						"type": "linear",
						"clamp": true,
						"nice": true,
						"zero": false,
					},
				},
				"color": {
					"legend": false,
					"field": "source",
					"type": "nominal",
					"scale": {"scheme": "goldorange"}
				}
			},
			"config": {
				"scale": {
					"continuousPadding": 10
				}
			}
		};
		vegaEmbed("#spot_bars", vegaSpec, {"theme":"dark", "actions":false}).then(function(result) {}).catch(console.error);
	</script>


	<div class="centerwrap">
	<div class="wrapclass" id="multiscroller"></div>
	</div>
	<script type="text/javascript">
		var vegaSpec = {
			"$schema": "https://vega.github.io/schema/vega-lite/v4.json",
			"description": "Bitcoin Price History",
			"width": 1040,
			"height": 240,
			"padding": 8,
			"data": {
				"name": "spots_minutely",
				"url": "arrows/spots_minutely.csv"
			},
			"autosize": {
				"type": "fit",
				"resize": true
			},
			"selection": {
				"grid": {
					"type": "interval",
					"bind": "scales"
				}
			},
			"mark": {
				"type": "line",
			},
			"encoding": {
				"x": {
					"field": "date",
					"type": "temporal",
					"scale": {
						"type":"time",
						"domain": ["{{multiscroller_start}}","{{multiscroller_end}}"]
					},
					"axis": {
						"title": "",
						"labelFontSize": 14,
						"tickCount": 7,
					}
				},
				"y": {
					"field": "value",
					"type": "quantitative",
					"axis": {
						"title": "AU[gm]",
						"titleFontSize": 14,
						"titleAngle": 0,
						"titleX": 30,
						"titleY": 20,
						"labelFontSize": 14,
						"tickSize": 1,
						"gridDash": [2,1]
					},
					"scale": {
						"type": "linear",
						"clamp": true,
						"nice": true,
						"zero": false,
					},
				},
				"color": {
					"field": "source",
					"type": "nominal",
					"scale": {"scheme": "goldorange"}
				}
			},
			"config": {
				"scale": {
					"continuousPadding": 10
				}
			}
		};
		vegaEmbed("#multiscroller", vegaSpec, {"theme":"dark", "actions":false}).then(function(result) {}).catch(console.error);
	</script>


	<div id="bottom-panel">
	<hr/>
	<table>
		<tr>
			<td>
				<div class="tooltip">
					<span id="date_time"></span>
					<span class="tooltiptext">UTC</span>
				</div>
			</td>
			<td>
				<a href="/about">About</a>
				&nbsp;|&nbsp;
				<a href="/drill">Drill</a>
				&nbsp;|&nbsp;
				<a href="/exchange">Exchange</a>
				&nbsp;|&nbsp;
				<a href="/contact">Contact</a>
			</td>
			<td>
			<span style="color:#666;">
				BTC: ${{(spot * gold_spot) | round(2)}} &nbsp;/&nbsp; AU: ${{(gold_spot) | round(2)}}
			</span></td>
		</tr>
	</table>
	</div>
	<script type=text/javascript>window.onload = date_time('date_time');</script>



</div>
</body>
</html>

